var AlgoliaAnalytics=function(n){"use strict";var t=function(){try{return Boolean(navigator.cookieEnabled)}catch(n){return!1}},e=function(){try{return Boolean(navigator.sendBeacon)}catch(n){return!1}},i=function(){try{return Boolean(XMLHttpRequest)}catch(n){return!1}},r=function(n){return void 0===n},o=function(n){return"string"==typeof n},s=function(n){return"number"==typeof n},a=function(n){return"function"==typeof n};function u(n){return function(t){var e=this;if(!this._userHasOptedOut){if(!this._hasCredentials)throw new Error("Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters");var i=t.map(function(n){var t,i,o=n.filters,s=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(n,["filters"]),a=Object.assign(Object.assign({},s),{userToken:(i=null===(t=n)||void 0===t?void 0:t.userToken,null!==i&&void 0!==i?i:e._userToken)});return r(o)||(a.filters=o.map(encodeURIComponent)),a});return function(n,t,e,i,r,o){var s=encodeURIComponent(i.join("; "));return n(r+"/1/events?X-Algolia-Application-Id="+t+"&X-Algolia-API-Key="+e+"&X-Algolia-Agent="+s,{events:o})}(n,this._appId,this._apiKey,this._ua,this._endpointOrigin,i)}}}var c=["insights-js (2.2.1)","insights-js-browser-iife (2.2.1)"];var h=["de","us"],l=2592e6;function f(n,t){return t.map(function(t){return Object.assign({eventType:n},t)})}var p,d,v,g,y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0;return("x"===n?t:3&t|8).toString(16)})},b="_ALGOLIA",k=function(n,t,e){var i=new Date;i.setTime(i.getTime()+e);var r="expires="+i.toUTCString();document.cookie=n+"="+t+";"+r+";path=/"},O=function(n){for(var t=n+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){for(var r=e[i];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""};Object.keys||(Object.keys=(p=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),g=(v=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(n){if("function"!=typeof n&&("object"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var t,e,i=[];for(t in n)p.call(n,t)&&i.push(t);if(d)for(e=0;e<g;e++)p.call(n,v[e])&&i.push(v[e]);return i})),"function"!=typeof Object.assign&&(Object.assign=function(n,t){var e=arguments;if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(n),r=1;r<arguments.length;r++){var o=e[r];if(null!=o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i});var w=function(n){var e=n.requestFn;this._ua=[],this.version="2.2.1",this._hasCredentials=!1,this.sendEvents=u(e).bind(this),this.init=function(n){var t;if(!n)throw new Error("Init function should be called with an object argument containing your apiKey and appId");if(r(n.apiKey)||!o(n.apiKey))throw new Error("apiKey is missing, please provide it so we can authenticate the application");if(r(n.appId)||!o(n.appId))throw new Error("appId is missing, please provide it, so we can properly attribute data to your application");if(!r(n.region)&&-1===h.indexOf(n.region))throw new Error("optional region is incorrect, please provide either one of: "+h.join(", ")+".");if(!(r(n.cookieDuration)||s(n.cookieDuration)&&isFinite(n.cookieDuration)&&Math.floor(n.cookieDuration)===n.cookieDuration))throw new Error("optional cookieDuration is incorrect, expected an integer.");this._apiKey=n.apiKey,this._appId=n.appId,this._userHasOptedOut=!!n.userHasOptedOut,this._region=n.region,this._endpointOrigin=n.region?"https://insights."+n.region+".algolia.io":"https://insights.algolia.io",this._useCookie=null!==(t=n.useCookie)&&void 0!==t&&t,this._cookieDuration=n.cookieDuration?n.cookieDuration:6*l,this._hasCredentials=!0,this._ua=[].concat(c),n.userToken?this.setUserToken(n.userToken):this._userToken||this._userHasOptedOut||!this._useCookie||this.setAnonymousUserToken()}.bind(this),this.addAlgoliaAgent=function(n){-1===this._ua.indexOf(n)&&this._ua.push(n)}.bind(this),this.setUserToken=function(n){this._userToken=n,a(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}.bind(this),this.setAnonymousUserToken=function(){if(t()){var n=O(b);n&&""!==n&&0===n.indexOf("anonymous-")?this.setUserToken(n):(this.setUserToken("anonymous-"+y()),k(b,this._userToken,this._cookieDuration))}}.bind(this),this.getUserToken=function(n,t){return a(t)&&t(null,this._userToken),this._userToken}.bind(this),this.onUserTokenChange=function(n,t){this._onUserTokenChangeCallback=n,t&&t.immediate&&a(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}.bind(this),this.clickedObjectIDsAfterSearch=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return this.sendEvents(f("click",n))}.bind(this),this.clickedObjectIDs=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return this.sendEvents(f("click",n))}.bind(this),this.clickedFilters=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return this.sendEvents(f("click",n))}.bind(this),this.convertedObjectIDsAfterSearch=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return this.sendEvents(f("conversion",n))}.bind(this),this.convertedObjectIDs=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return this.sendEvents(f("conversion",n))}.bind(this),this.convertedFilters=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return this.sendEvents(f("conversion",n))}.bind(this),this.viewedObjectIDs=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return this.sendEvents(f("view",n))}.bind(this),this.viewedFilters=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return this.sendEvents(f("view",n))}.bind(this),this.getVersion=function(n){a(n)&&n(this.version)}.bind(this)},x=function(n,t){var e=JSON.stringify(t);if(!navigator.sendBeacon(n,e))return _(n,t)},_=function(n,t){var e=JSON.stringify(t),i=new XMLHttpRequest;i.open("POST",n),i.send(e)};function T(n){var t,e=n.AlgoliaAnalyticsObject;if(e){var i=(t=this,function(n){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];n&&a(t[n])?t[n].apply(t,e):console.warn("The method `"+n+"` doesn't exist.")}),r=n[e];r.queue=r.queue||[];var o=r.queue;o.forEach(function(n){var t=[].slice.call(n),e=t[0],r=t.slice(1);i.apply(void 0,[e].concat(r))}),o.push=function(n){var t=[].slice.call(n),e=t[0],r=t.slice(1);i.apply(void 0,[e].concat(r))}}}function j(n){var t=new w({requestFn:n});return"undefined"!=typeof window&&T.call(t,window),t}var m=j(function(){if(e())return x;if(i())return _;throw new Error("Could not find a supported HTTP request client in this environment.")}());return n.createInsightsClient=j,n.default=m,n}({});
